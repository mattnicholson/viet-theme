{% extends "_includes/default.njk" %}
{% import "_includes/macros.njk" as macros %}
{% import "_includes/icons.njk" as icons %}

{# MODAL #}
{% import "_includes/components/modal-locationSwitcher.njk" as modalLocationSwitcher %}
{% import "_includes/components/modal-bookingTemplate.njk" as modalBookingTemplate %}
{% import "_includes/components/modal-contactTemplate.njk" as modalContactTemplate %}
{% import "_includes/components/modal-takeawayTemplate.njk" as modalTakeawayTemplate %}
{% import "_includes/components/modal-menusTemplate.njk" as modalMenusTemplate %}
{% import "_includes/components/modal-deliveryTemplate.njk" as modalDeliveryTemplate %}
{% import "_includes/components/venueFromhash.njk" as venueFromHash %}
{% import "_includes/components/venueTheme.njk" as venueTheme %}
{% import "_includes/components/magicFrame.njk" as magicFrame %}


{# OPTIONAL STYLES #}
{% block styles %}
  <style></style>
{% endblock %}

{% block js %}
  <script type="text/javascript" src="/js/main.js"></script>
{% endblock %}

{%  block outsidescroll %}
<header x-data @click.outside="$store.route.removeHash()" class="fixed top-inset left-inset right-inset md:right-auto md:left-1/2 md:-translate-x-1/2 bg-white  shadow-lg rounded-lg shadow-md bg-nav text-navtext transition duration-[400ms] z-[99] py-[0.4em] md:py-0">
    
    <nav >

      <ul class="u-text-shortcuts flex flex-row gap-[2em] px-[4em] justify-between md:justify-center align-center py-[10px]">
        <li class="flex justify-center items-center"><a class="" href="/"><svg class="" width="16" height="16" viewBox="0 0 127 111" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M63.06 0L0 47.295H15.765V110.355H47.295V78.825H78.825V110.355H110.355V46.8221L126.12 47.295L63.06 0Z" fill="currentColor"/>
</svg>
</a></li>
        {%  for link in linklists.shortcuts %}
        <li class="px-[0.25em] pt-[3px] -ml-[0.5em] shrink-0"><a class="inline-block " x-data="pageLink" href="{{ link.url }}">{{link.title}}</a></li>
        {% endfor %}
      </ul>
    </nav>

    <div class="max-h-[calc(80vh-50px)] overflow-auto" style="--colors-relief:var(--colors-navtext);--colors-accent:var(--colors-nav);">
    <template x-data x-if="$store.route.match('#menu')">
            <div>
            <div class="md:min-w-[650px] px-inset">
              {{ modalLocationSwitcher.render({locations:locations}) }}
              
              
              {% for location in locations %}
                
                <template x-if="$store.venue.modal == '{{location.slug}}'">
                <div>
                {{ modalMenusTemplate.render({location:location})}}
                </div>
                </template>
              {% endfor %}
             
            </div>
            <div x-data class="u-link-close" @click="$store.route.removeHash()">Close</div>
            </div>
          </template>

          <template x-if="$store.route.match('#locations')">
            <div>
            <div class="md:min-w-[650px]">
              {{ modalLocationSwitcher.render({locations:locations}) }}
              
             {% for location in locations %}
                
                <template x-if="$store.venue.modal == '{{location.slug}}'">
                <div>
                {{ modalContactTemplate.render({location:location})}}
                </div>
                </template>
              {% endfor %}
            </div>
             <div x-data class="u-link-close" @click="$store.route.removeHash()">Close</div>
            </div>
          </template>

          <div x-show="$store.route.match('#more')">
            <div>
            <div class="md:min-w-[650px]" x-data @click="$store.route.removeHash()">
              <ul class="u-text-hero text-center flex flex-col gap-[1em] py-[2em] pb-[3em]">
              <li><a href="/">Locations</a></li>
              {%  for link in linklists.main %}
              <li class="px-[0.25em] pt-[3px] -ml-[0.5em] shrink-0"><a class="inline-block " x-data="pageLink" href="{{ link.url }}">{{link.title}}</a></li>
              {% endfor %}
              </ul>
              <div class="flex flex-col md:flex-row gap-inset justify-center items-center p-inset">
              <a class="u-link-button-wide" href="#book">Book a Table</a>
              <a class="u-link-button-wide" href="#takeaway">Order Takeaway</a>
              <a class="u-link-button-wide" href="#delivery">Order Delivery</a>
              </div>
            </div>
             
            </div>
          </div>

          </div>
  </header>

  <div class="transition fixed bottom-0 shadow-[0_-2px_2px_0px_rgba(0,0,0,0.3)] z-[100] left-0 md:left-1/2 md:-translate-x-1/2 right-0 md:right-auto text-black bg-white md:rounded-t-lg md:px-inset">
  <nav >

      <ul class="flex flex-row gap-[2em] justify-center py-[0.5em] px-[1em]">
        
        {%  for link in linklists.actions %}
        <li class="shrink-0"><a class="u-link-icon" href="{{ link.url }}">{{ icons.render({handle:link.url}) }} {{link.title}}</a></li>
        {% endfor %}
      </ul>
    </nav>
  </div>

  <div style="--colors-foreground:var(--colors-black);" x-data :class="$store.route.match('#book') ? '!translate-y-0' : 'translate-y-[105%]'" class="translate-y-[105%] transition duration-[0.6s] fixed bottom-0 pb-[5rem] md:pb-[2.5rem] shadow-[0_-2px_10px_0px_rgba(0,0,0,0.3)] z-[99] left-0 md:left-1/2 md:-translate-x-1/2 right-0 md:right-auto bg-white md:min-w-[600px] md:rounded-t-lg">
    
    <div  x-data @click="$event.stopPropagation()" class="aspect-[5/3.5] relative">
      <div class="u-text-eyebrow text-center absolute top-[1.8rem] md:top-[0.8rem] left-1/2 -translate-x-1/2">Book</div>
      
<div class="w-full h-full flex justify-center items-center">
      <ul class="flex flex-col gap-[1em]">
      {% for location in locations %}
        <li><a class="u-link-button-wide" href="{{ location.bookingLink }}" target="_blank">{{ location.title }}</a></li>
      {% endfor %}
      </ul>
      </div>

      {{ magicFrame.render({eyebrow:true}) }}
    </div>

  </div>

  <div style="--colors-foreground:var(--colors-black);" x-data :class="$store.route.match('#takeaway') ? '!translate-y-0' : 'translate-y-[105%]'" class="translate-y-[105%] transition duration-[0.6s] fixed bottom-0 pb-[5rem] md:pb-[2.5rem] shadow-[0_-2px_10px_0px_rgba(0,0,0,0.3)] z-[99] left-0 md:left-1/2 md:-translate-x-1/2 right-0 md:right-auto bg-white md:min-w-[600px] md:rounded-t-lg">
    
    <div x-data @click="$event.stopPropagation()" class="aspect-[5/4] relative">
      <div class="u-text-eyebrow text-center absolute top-[1.8rem] md:top-[0.8rem] left-1/2 -translate-x-1/2">Takeaway</div>

      <div class="w-full h-full flex justify-center items-center">
      <div class="w-full shrink-0" style="--colors-accent:var(--colors-light);--colors-relief:var(--colors-black);">
              {{ modalLocationSwitcher.render({locations:locations}) }}
             
             {% for location in locations %}
                
                <template x-if="$store.venue.modal == '{{location.slug}}'">
                <div class="flex flex-col gap-gutter px-[50px]">
                <p class="py-[1em] text-center">{{ location.locationTelephone }}<br />
                <a href="mailto:{{ location.locationEmail }}">{{ location.locationEmail }}</a></p>
                <ul class="w-full flex flex-col gap-[1em] justify-center text-center">
                <li><a href="tel:{{ location.locationTelephone }}" class="u-link-button-wide">Call {{location.title}}</a></li>
                </ul>
                </div>
                </template>
              {% endfor %}
             
            </div>
            </div>

      {{ magicFrame.render({eyebrow:true}) }}
    </div>

  </div>

  <div style="--colors-foreground:var(--colors-black);" x-data :class="$store.route.match('#delivery') ? '!translate-y-0' : 'translate-y-[105%]'" class="translate-y-[105%] transition duration-[0.6s] fixed bottom-0 pb-[5rem] md:pb-[2.5rem] shadow-[0_-2px_10px_0px_rgba(0,0,0,0.3)] z-[99] left-0 md:left-1/2 md:-translate-x-1/2 right-0 md:right-auto bg-white md:min-w-[600px] md:rounded-t-lg">
    
    <div  x-data @click="$event.stopPropagation()" class="aspect-[5/3.5] relative">
      <div class="u-text-eyebrow text-center absolute top-[1.8rem] md:top-[0.8rem] left-1/2 -translate-x-1/2">Delivery</div>

      <div class="w-full h-full flex justify-center items-center">
      <ul class="flex flex-col gap-[1em]">
      {% for location in locations %}
        <li><a class="u-link-button-wide" href="{{ location.deliveryUrl }}" target="_blank">{{ location.title }}</a></li>
      {% endfor %}
      </ul>
      </div>
      {{ magicFrame.render({eyebrow:true}) }}
    </div>

  </div>
{% endblock %}

{%  block opener %}

{% endblock %}

{# MAIN CONTENT #}
{% block content %}


  


  <main id="swup" class="transition-fade">
  {% block main %}
       

  {# PAGE CONTENT VARIES #}
        
       
  {% endblock %}
  </main>
  <div class="text-center p-inset">
    <ul class="flex flex-row gap-inset justify-center p-inset">
        {%  for link in linklists.main %}
        <li><a class="inline-block" x-data="pageLink" href="{{ link.url }}">{{link.title}}</a></li>
        {% endfor %}
      </ul>
     </div>
  <hr />
  <div class="flex flex-col gap-inset py-inset">
    <div class="text-center">
      [[ NEWSLETTER ]]
    </div>
    <div class="text-center">
      [[ SOCIALS ]]
    </div>
  </div>
  <hr />
  <footer>

    <div class="text-center p-inset">
    Visit our sister sites
   
    <ul class="flex flex-row gap-inset justify-center p-inset">
        {%  for site in theme.sisterSites %}
        <li><a href="{{ site.url }}">{{site.title}}</a></li>
        {% endfor %}
      </ul>
     </div>
    <hr />
    <div class="py-[2em] md:p-inset flex flex-col justify-center items-center md:flex-row md:justify-between gap-[3em] md:gap-gutter">
       <ul class="flex flex-row gap-[1em] md:gap-gutter">
        {%  for link in linklists.legal %}
        <li><a class="inline-block" x-data="pageLink" href="{{ link.url }}">{{link.title}}</a></li>
        {% endfor %}
      </ul>

      <div>© 2023 <a href="http://eatdrinkvietnam.co.uk">eatdrinkvietnam.co.uk</a></div>
    </div>
  </footer>


{% endblock %}